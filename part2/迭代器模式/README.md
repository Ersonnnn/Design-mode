# 迭代器模式

## 定义

- 迭代器模式是指提供一种**方法顺序访问**一个聚合对象中的各个元素，而又不需要暴露该对象的内部表示。
- 迭代器模式可以**把迭代的过程从业务逻辑中分离出来**，在使用迭代器模式之后，即使不关心对象的内部构造，也可以按顺序访问其中的每个元素。

## jQuery中的迭代器

- 迭代器模式其实就是循环访问聚合对象中的各个元素，在jQuery中，如 $.each 函数

```javascript
$.each([1,2,3], function(i, n) {
    console.log('下标': i)
    console.log('当前值', n)
})
```

（有点不理解明明js可以实现循环，为啥jQuery还要有个each函数，当然了，自己对jQuery完全不理解，就是个vue开发前端er，所以也没有资格质疑）

- 本书中自己对 $each 的实现，也是通过 for 循环来实现的，可能js后期才有的forEach，但个人觉得forEach无论从什么角度来说，都跟for循环差不多呀，代码写的时候for循环也没有复杂多少，不知道封装这一层有什么意义，这也是个**待理解的点吧**。

## 内部迭代器和外部迭代器

### 内部迭代器

内部迭代器指的是在函数内部已经定义好迭代规则，外界不用关心迭代器的内部实现，只需调用即可。

#### 优缺点

- 优点：调用简单，直接调用即可。
- 缺点：内部迭代器的规则已经被提前规定好了，很难去扩展（比如上面的 $.each 方法，无法同时迭代两个数组）

### 外部迭代器

外部迭代器必须显式地请求迭代下一个元素

#### 优缺点

外部迭代器增加了一些**调用**的复杂度，但相对也增强了迭代器的灵活性，我们可以手工
